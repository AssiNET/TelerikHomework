<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
 <!--   
    Write a function that groups an array of persons by age, first or last name. 
    The function must return an associative array, with keys - the groups, and values -arrays with persons in this groups
    Use function overloading (i.e. just one function)
    var persons = {…};
    var groupedByFname = group(persons,"firstname");
    var groupedByAge= group(persons,"age");
-->

<body>
    <pre>
        <script>
            function join(persons, prop) {
                var result = {}

                persons.forEach(function (person) {
                    var value = person[prop]

                    result[value] = result[value] || []

                    result[value].push(person)
                })

                return result
            }

            var persons =
              [{ firstName: "Pe6o", lastName: "Propv", age: 15 }
              , { firstName: "Gosho", lastName: "Yordan", age: 45 }
              , { firstName: "Pop", lastName: "Yordan", age: 15 }
              , { firstName: "Pop", lastName: "Yordan", age: 45 }
              ]

             
            for (prop in persons[0]) {
                console.log(join(persons, prop))
            }
        </script>
    </pre>
</body>
</html>