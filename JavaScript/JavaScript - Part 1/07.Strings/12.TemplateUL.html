<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>

    <!--
    Write a function that creates a HTML UL using a template for every HTML LI. 
    The source of the list should an array of elements. 
    Replace all placeholders marked with –{…}–   with the value of the corresponding property of the object. Example:
        
    <div data-type="template" id="list-item">
        <strong>-{name}-</strong> <span>-{age}-</span>
    /div>

    var people = [{name: "Peter", age: 14},…];
    var tmpl = document.getElementById("list-item").innerHtml;
    var peopleList = generateList(people,template);
    //peopleList = "<ul><li><strong>Peter</strong> <span>14</span></li><li>…</li>…</ul>"
-->

</head>
<body>

    <div>Template</div>
    <div data-type="template" id="list-item">
        <strong>-{name}-</strong> <span>-{age}-</span>
    </div>
    <div>Result</div>
    <div id="ul-result"></div>
    <script>
        function generateList(array, template) {
            var result = "<ul>";
            var replacementRegExp = /-{(.*?)}-/;

            for (var i in array) {
                var listItem = template;
                var match;
                while (match = listItem.match(replacementRegExp)) {
                    var replacementValue = array[i][match[1]];
                    listItem = listItem.replace(replacementRegExp, replacementValue);
                }


                result += "<li>" + listItem + "</li>";
            }

            result += "</ul>";
            return result;
        }


        var people =
            [
                { name: "Petur Ivanov", age: 23 },
                { name: "Kiril Daskalov", age: 24 },
                { name: "Grigor Popov", age: 25 },
                { name: "NIkolai Karolev", age: 26 }
            ];

        var template = document.getElementById("list-item").innerHTML;
        document.write(template);
        var peopleList = generateList(people, template);

        document.getElementById("ul-result").innerHTML = peopleList;

	</script>
</body>
</html>
